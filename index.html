<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Libre</title>

<link rel="stylesheet" href="styles/core.css">
<link rel="stylesheet" href="styles/components.css">

<script>
  // 1. Theme Check (Head)
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme === "dark" || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add("dark-mode");
  }
</script>
</head>
<body>

<nav>
  <div class="nav-content">
    <h1 class="logo"><a href="#">Libre</a></h1>
    <div class="nav-links">
      <a href="#features">Features</a>
      <a href="downloads.html">Downloads</a>
      <div class="theme-toggle">
        <span class="toggle-label">Dark</span>
        <label class="switch">
          <input type="checkbox" id="themeToggle" aria-label="Toggle Dark Mode">
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </div>
</nav>

<div class="hero">
  <h1 class="reveal">Take control.</h1>
  <p class="reveal">Your freedom, your choice.</p>
  <p class="reveal">Libre allows you to use your computer without restrictions.</p>
  <p class="reveal">Explore, modify, and fully control your software environment.</p>
  <p class="reveal" style="font-weight: 500; color: var(--text-color); margin-top: 20px;">Freedom on your terms.</p>
</div>

<section class="grid-container" id="features">
  <div class="bento-card full-width reveal">
    <h2>Experience Libre.</h2>
    <p>Everything you need, instantly ready. Smooth, simple, and completely unrestricted.</p>

    <div class="features-grid">
      <div class="feature-item">
        <h3>Run Anything</h3>
        <p>Install and run any program without restrictions.</p>
      </div>
      <div class="feature-item">
        <h3>Full Customization</h3>
        <p>Shape your interface to your exact liking.</p>
      </div>
      <div class="feature-item">
        <h3>Privacy First</h3>
        <p>Your data stays yours, no compromises.</p>
      </div>
      <div class="feature-item">
        <h3>Lightweight</h3>
        <p>Quick, smooth, and reliable performance.</p>
      </div>
    </div>

    <p class="cta">Get started today</p>
  </div>
</section>

<section class="grid-container" id="extra-features">
  <div class="bento-card reveal">
    <h2>Speed.</h2>
    <p>Optimized performance across all platforms.</p>
  </div>
  <div class="bento-card reveal">
    <h2>Security.</h2>
    <p>Keep your data safe without sacrificing usability.</p>
  </div>
</section>

<section class="download-section" id="downloads">
  <h2 class="reveal">Get the latest.</h2>
  <div class="download-row reveal" style="justify-content: center;">
    <a href="downloads.html" class="download-link">Download Libre v0.92 (beta) ›</a>
  </div>
</section>

<style>
#downloads h2 {
  font-size: clamp(32px, 6vw, 48px);
  text-align: center;
  margin-bottom: 30px;
}
#downloads .download-row {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 40px;
}
</style>

<footer>
  <div style="max-width:980px; margin:0 auto; border-top:1px solid rgba(128,128,128,0.2); padding-top:20px;">
    Copyright © 2026 strawberry-croissant. All rights reserved. 
  </div>
</footer>

<script>
  // 2. SCROLL REVEAL (Logic only once)
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting){ entry.target.classList.add('active'); }
    });
  }, { threshold: 0.1 });
  document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

  // 3. DARK MODE TOGGLE (Logic only once)
  const toggle = document.getElementById("themeToggle");
  const root = document.documentElement;

  if (root.classList.contains("dark-mode")) {
    toggle.checked = true;
    toggle.setAttribute('aria-checked', 'true');
  } else {
    toggle.setAttribute('aria-checked', 'false');
  }

  toggle.addEventListener("change", () => {
    const isDark = toggle.checked;
    root.classList.toggle("dark-mode", isDark);
    toggle.setAttribute('aria-checked', isDark.toString());
    localStorage.setItem("theme", isDark ? "dark" : "light");
  });
</script>

</body>
</html>